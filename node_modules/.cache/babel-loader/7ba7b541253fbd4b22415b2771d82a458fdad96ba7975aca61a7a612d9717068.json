{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Pallavi/metaphor/news-summarizer/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Pallavi/metaphor/news-summarizer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Pallavi/metaphor/news-summarizer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../components/SearchResult.css';import React,{useEffect,useState}from\"react\";import ContentViewer from\"./ContentViewer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchResult(props){var metaphor=props.apiClient;var _useState=useState(props.searchResponse),_useState2=_slicedToArray(_useState,2),stateValue=_useState2[0],setStateValue=_useState2[1];var _useState3=useState({contents:[]}),_useState4=_slicedToArray(_useState3,2),viewContentResponse=_useState4[0],setViewContentResponse=_useState4[1];useEffect(function(){setStateValue(props.searchResponse);},[props.searchResponse]);var handleLearnMoreClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return metaphor.getContents([id]);case 2:response=_context.sent;setViewContentResponse(response);case 4:case\"end\":return _context.stop();}},_callee);}));return function handleLearnMoreClick(_x){return _ref.apply(this,arguments);};}();function handleSimilarContentClick(_x2){return _handleSimilarContentClick.apply(this,arguments);}function _handleSimilarContentClick(){_handleSimilarContentClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(url){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return metaphor.findSimilar(url);case 2:response=_context2.sent;setStateValue(response);case 4:case\"end\":return _context2.stop();}},_callee2);}));return _handleSimilarContentClick.apply(this,arguments);}function getSearchResultsData(){return/*#__PURE__*/_jsx(\"div\",{className:\"search-result\",children:stateValue===null||stateValue===void 0?void 0:stateValue.results.map(function(result){return/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"h2\",{children:result.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"textFont-style\",children:[\"Author: \",result.author||'Unknown']}),/*#__PURE__*/_jsxs(\"p\",{className:\"textFont-style\",children:[\"Published Date: \",result.publishedDate||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{className:\"textFont-style\",children:[\"URL: \",/*#__PURE__*/_jsx(\"a\",{href:result.url,target:\"_blank\",rel:\"noopener noreferrer\",children:result.url}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"learnMore-button\",onClick:function onClick(){return handleLearnMoreClick(result.id);},children:\"Learn More!\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"similarContent-button\",onClick:function onClick(){return handleSimilarContentClick(result.url);},children:\"Find Similar Content!\"})]})]},result.id);})});}function handleBackClick(){var response={contents:[]};setViewContentResponse(response);}return/*#__PURE__*/_jsx(\"div\",{children:viewContentResponse.contents.length>0?/*#__PURE__*/_jsx(ContentViewer,{documents:viewContentResponse.contents,onBackClick:function onBackClick(){return handleBackClick();}}):getSearchResultsData()});}export default SearchResult;","map":{"version":3,"names":["React","useEffect","useState","ContentViewer","jsx","_jsx","jsxs","_jsxs","SearchResult","props","metaphor","apiClient","_useState","searchResponse","_useState2","_slicedToArray","stateValue","setStateValue","_useState3","contents","_useState4","viewContentResponse","setViewContentResponse","handleLearnMoreClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","response","wrap","_callee$","_context","prev","next","getContents","sent","stop","_x","apply","arguments","handleSimilarContentClick","_x2","_handleSimilarContentClick","_callee2","url","_callee2$","_context2","findSimilar","getSearchResultsData","className","children","results","map","result","title","author","publishedDate","href","target","rel","type","onClick","handleBackClick","length","documents","onBackClick"],"sources":["/Users/Pallavi/metaphor/news-summarizer/src/components/SearchResults.tsx"],"sourcesContent":["import Metaphor, {GetContentsResponse, SearchResponse} from \"../metaphor/metaphor-api\";\r\nimport '../components/SearchResult.css';\r\nimport React, {useEffect, useState} from \"react\";\r\nimport ContentViewer from \"./ContentViewer\";\r\n\r\ninterface SearchResponseProps {\r\n    apiClient: Metaphor;\r\n    searchResponse: SearchResponse;\r\n}\r\nfunction SearchResult(props: SearchResponseProps) {\r\n    let metaphor: Metaphor = props.apiClient;\r\n\r\n    const [stateValue, setStateValue] = useState(props.searchResponse);\r\n    const [viewContentResponse, setViewContentResponse] = useState<GetContentsResponse>({contents: []});\r\n\r\n    useEffect(() => {\r\n        setStateValue(props.searchResponse)\r\n    }, [props.searchResponse]);\r\n\r\n    const handleLearnMoreClick = async (id: string) => {\r\n        const response: GetContentsResponse = await metaphor.getContents([id]);\r\n        setViewContentResponse(response);\r\n    };\r\n\r\n    async function handleSimilarContentClick(url: string) {\r\n        const response: SearchResponse = await metaphor.findSimilar(url);\r\n        setStateValue(response);\r\n    }\r\n\r\n    function getSearchResultsData() {\r\n        return <div className=\"search-result\">\r\n            {stateValue?.results.map((result) => (\r\n                <div key={result.id} className=\"result\">\r\n                    <h2>{result.title}</h2>\r\n                    <p className=\"textFont-style\">\r\n                        Author: {result.author || 'Unknown'}\r\n                    </p>\r\n                    <p className=\"textFont-style\">\r\n                        Published Date: {result.publishedDate || 'N/A'}\r\n                    </p>\r\n                    <p className=\"textFont-style\">\r\n                        URL: <a href={result.url} target=\"_blank\" rel=\"noopener noreferrer\">{result.url}</a>\r\n                        <br/>\r\n                        <button type=\"button\" className={\"learnMore-button\"}\r\n                                onClick={() => handleLearnMoreClick(result.id)}>Learn More!\r\n                        </button>\r\n                        <button type=\"button\" className={\"similarContent-button\"}\r\n                                onClick={() => handleSimilarContentClick(result.url)}>Find Similar Content!\r\n                        </button>\r\n                    </p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    }\r\n\r\n    function handleBackClick() {\r\n        const response: GetContentsResponse = {\r\n            contents : []\r\n        }\r\n        setViewContentResponse(response);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {(viewContentResponse.contents.length > 0) ?\r\n                (<ContentViewer\r\n                    documents={viewContentResponse.contents}\r\n                    onBackClick={() => handleBackClick()}\r\n                />) :\r\n                getSearchResultsData()\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchResult;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}