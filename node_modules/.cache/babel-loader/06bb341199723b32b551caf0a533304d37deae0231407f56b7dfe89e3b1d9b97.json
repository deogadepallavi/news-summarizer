{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Pallavi/metaphor/news-summarizer/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Pallavi/metaphor/news-summarizer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Pallavi/metaphor/news-summarizer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./search.styles.css';import Metaphor from\"../metaphor/metaphor-api\";import SearchResult from\"./SearchResults\";import{SearchComponent}from\"./SearchComponent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState({autopromptString:\"\",results:[]}),_useState4=_slicedToArray(_useState3,2),searchResponse=_useState4[0],setSearchResponse=_useState4[1];var metaphor=new Metaphor(\"5b12e8f1-9669-4cb1-9904-b9fda5a57a64\");var handleSearchChange=function handleSearchChange(e){setSearchTerm(e.target.value);};var handleSearchClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log('News summarizer for:',searchTerm);_context.next=3;return metaphor.search(searchTerm,{});case 3:response=_context.sent;setSearchResponse(response);case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSearchClick(){return _ref.apply(this,arguments);};}();function clearResults(){setSearchResponse({autopromptString:\"\",results:[]});}return/*#__PURE__*/_jsxs(\"div\",{children:[searchResponse.results.length!==0?/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"search-button\",onClick:function onClick(){return clearResults();},children:\"Clear Results\"}):null,searchResponse.results.length===0?/*#__PURE__*/_jsx(SearchComponent,{value:searchTerm,onChange:handleSearchChange,onClick:handleSearchClick}):/*#__PURE__*/_jsx(SearchResult,{apiClient:metaphor,searchResponse:searchResponse})]});}export default Search;","map":{"version":3,"names":["React","useState","Metaphor","SearchResult","SearchComponent","jsx","_jsx","jsxs","_jsxs","Search","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","autopromptString","results","_useState4","searchResponse","setSearchResponse","metaphor","handleSearchChange","e","target","value","handleSearchClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","console","log","search","sent","stop","apply","arguments","clearResults","children","length","type","className","onClick","onChange","apiClient"],"sources":["/Users/Pallavi/metaphor/news-summarizer/src/components/Search.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport './search.styles.css';\r\nimport Metaphor, {SearchResponse} from \"../metaphor/metaphor-api\";\r\nimport SearchResult from \"./SearchResults\";\r\nimport {SearchComponent} from \"./SearchComponent\";\r\n\r\nfunction Search() {\r\n    const [searchTerm, setSearchTerm] = useState<string>('');\r\n    const [searchResponse, setSearchResponse] = useState<SearchResponse>({autopromptString: \"\", results: []});\r\n    let metaphor = new Metaphor(\"5b12e8f1-9669-4cb1-9904-b9fda5a57a64\");\r\n\r\n    const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchTerm(e.target.value);\r\n    };\r\n\r\n    const handleSearchClick = async () => {\r\n        console.log('News summarizer for:', searchTerm);\r\n        const response = await metaphor.search(searchTerm, {});\r\n\r\n        setSearchResponse(response);\r\n    };\r\n\r\n    function clearResults() {\r\n        setSearchResponse({autopromptString: \"\", results: []});\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {searchResponse.results.length !== 0 ? <button type=\"button\" className={\"search-button\"} onClick={() => clearResults()}>Clear Results</button> : null}\r\n            {searchResponse.results.length === 0 ? <SearchComponent value={searchTerm} onChange={handleSearchChange} onClick={handleSearchClick}/> : <SearchResult apiClient={metaphor} searchResponse={searchResponse}/>}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Search;\r\n"],"mappings":"uYAAA,MAAO,CAAAA,KAAK,EAAcC,QAAQ,KAAO,OAAO,CAChD,MAAO,qBAAqB,CAC5B,MAAO,CAAAC,QAAQ,KAAwB,0BAA0B,CACjE,MAAO,CAAAC,YAAY,KAAM,iBAAiB,CAC1C,OAAQC,eAAe,KAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,MAAMA,CAAA,CAAG,CACd,IAAAC,SAAA,CAAoCT,QAAQ,CAAS,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjDG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAA4Cd,QAAQ,CAAiB,CAACe,gBAAgB,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAE,CAAC,CAAC,CAAAC,UAAA,CAAAN,cAAA,CAAAG,UAAA,IAAlGI,cAAc,CAAAD,UAAA,IAAEE,iBAAiB,CAAAF,UAAA,IACxC,GAAI,CAAAG,QAAQ,CAAG,GAAI,CAAAnB,QAAQ,CAAC,sCAAsC,CAAC,CAEnE,GAAM,CAAAoB,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,CAAsC,CAAK,CACnET,aAAa,CAACS,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAAC,CAED,GAAM,CAAAC,iBAAiB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACtBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAE1B,UAAU,CAAC,CAACsB,QAAA,CAAAE,IAAA,SACzB,CAAAhB,QAAQ,CAACmB,MAAM,CAAC3B,UAAU,CAAE,CAAC,CAAC,CAAC,QAAhDmB,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CAEdrB,iBAAiB,CAACY,QAAQ,CAAC,CAAC,wBAAAG,QAAA,CAAAO,IAAA,MAAAX,OAAA,GAC/B,kBALK,CAAAL,iBAAiBA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAKtB,CAED,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpBzB,iBAAiB,CAAC,CAACJ,gBAAgB,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAE,CAAC,CAAC,CAC1D,CAEA,mBACIT,KAAA,QAAAsC,QAAA,EACK3B,cAAc,CAACF,OAAO,CAAC8B,MAAM,GAAK,CAAC,cAAGzC,IAAA,WAAQ0C,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAE,eAAgB,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAL,YAAY,CAAC,CAAC,EAAC,CAAAC,QAAA,CAAC,eAAa,CAAQ,CAAC,CAAG,IAAI,CACpJ3B,cAAc,CAACF,OAAO,CAAC8B,MAAM,GAAK,CAAC,cAAGzC,IAAA,CAACF,eAAe,EAACqB,KAAK,CAAEZ,UAAW,CAACsC,QAAQ,CAAE7B,kBAAmB,CAAC4B,OAAO,CAAExB,iBAAkB,CAAC,CAAC,cAAGpB,IAAA,CAACH,YAAY,EAACiD,SAAS,CAAE/B,QAAS,CAACF,cAAc,CAAEA,cAAe,CAAC,CAAC,EAC5M,CAAC,CAEd,CAGA,cAAe,CAAAV,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}